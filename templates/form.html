<!DOCTYPE html>
<html>
<head>
    <title>Family Info Form</title>
</head>
<body>
    <h1>Family Information Form</h1>
    <form action="{{ url_for('submit_family_info') }}" method="POST" id="family_form">
        <label for="name">Name:</label>
        <input type="text" name="name" required><br>
        <label for="age">Age:</label>
        <input type="number" name="age" required><br>
        <label for="address">Address:</label>
        <input type="text" name="address" required><br>
        <label for="num_family_members">Number of Family Members:</label>
        <input type="number" name="num_family_members" id="num_family_members" value="0" min="0" required><br>
        <button type="button" onclick="addFamilyMember()">Add Family Member</button>
        <br>
        <div id="family_members">
            <!-- No family members to display initially -->
        </div>
        <br>
        <input type="submit" value="Submit">
    </form>
    
    <script>
        function addFamilyMember() {
            var num_family_members = document.getElementById("num_family_members");
            var count = parseInt(num_family_members.value);
            count++;
        
            var div = document.createElement("div");
            div.id = "family_member_" + count;
            div.innerHTML = "<h2>Family Member " + count + "</h2>" +
                            "<label for='family_name_" + count + "'>Name:</label>" +
                            "<input type='text' name='family_name_" + count + "' value='0' required><br>" +
                            "<label for='family_age_" + count + "'>Age:</label>" +
                            "<input type='number' name='family_age_" + count + "' value='0' required><br>" +
                            "<label for='family_reln_" + count + "'>Relationship:</label>" +
                            "<input type='text' name='family_reln_" + count + "' value='0' required><br>";
        
            var form = document.getElementById("family_form");
        
            if (count > 1) {
                form.insertBefore(div, num_family_members);
            } else {
                form.appendChild(div);
            }
        
            num_family_members.value = count;
        }
    </script>
</body>
</html>

